EDFD HomeSystem[
	
elements: ExternalEntity Mote [ incoming flows: "Handle Mote Data.Actuator Gateway Command" , "Handle Sensor Data.Actuator Sensor Command" outgoing flows: "Gateway Data" [ source: Mote targets: "Handle Mote Data" ] , "Sensor Data" [ source: Mote targets: "Handle Sensor Data" ] ] , Process "Handle Sensor Data" [ incoming flows: "Mote.Sensor Data" , "Manage Events and Rules.Actuator Events and Rules" , "Manage Notification Data.Actuator Notifications" outgoing flows: "Actuator Sensor Command" [ source: "Handle Sensor Data" targets: Mote ] , "Sensor Data 1" [ source: "Handle Sensor Data" targets: "Manage Events and Rules" ] , "Sensor Data 2" [ source: "Handle Sensor Data" targets: "Manage Notification Data" ] , "Notifications Operator 1" [ source: "Handle Sensor Data" targets: "Operator DB" ] , SensorData [ source: "Handle Sensor Data" targets: "DB Monitor to Storage" ] ] , Process "Handle Mote Data" [ incoming flows: "Mote.Gateway Data" outgoing flows: "Actuator Gateway Command" [ source: "Handle Mote Data" targets: Mote ] , "Notifications Operator 2" [ source: "Handle Mote Data" targets: "Operator DB" ] , MoteData [ source: "Handle Mote Data" targets: "DB Monitor to Storage" ] ] , Process "Manage Notification Data" [ incoming flows: "Handle Sensor Data.Sensor Data 2" , "Rules Storage.Rules 2" , "Manage Sensor Data.RuleNotification2" outgoing flows: "Actuator Notifications" [ source: "Manage Notification Data" targets: "Handle Sensor Data" ] , "Update Rules 2" [ source: "Manage Notification Data" targets: "Rules Storage" ] , "Notification Data" [ source: "Manage Notification Data" targets: "Customer DB" ] , Events1 [ source: "Manage Notification Data" targets: "DB Monitor to Storage" ] , RuleNotification1 [ source: "Manage Notification Data" targets: "Manage Sensor Data" ] ] , Process "Manage Events and Rules" [ incoming flows: "Handle Sensor Data.Sensor Data 1" , "Rules Storage.Rules 1" , "Manage Rules.RuleEvents2" outgoing flows: "Actuator Events and Rules" [ source: "Manage Events and Rules" targets: "Handle Sensor Data" ] , "Update Rules 1" [ source: "Manage Events and Rules" targets: "Rules Storage" ] , "Sensor Data and Events" [ source: "Manage Events and Rules" targets: "Customer DB" ] , Events2 [ source: "Manage Events and Rules" targets: "DB Monitor to Storage" ] , RuleEvents1 [ source: "Manage Events and Rules" targets: "Manage Rules" ] ] , DataStore "Rules Storage" [ incoming flows: "Manage Notification Data.Update Rules 2" , "Manage Events and Rules.Update Rules 1" outgoing flows: "Rules 1" [ source: "Rules Storage" targets: "Manage Events and Rules" ] , "Rules 2" [ source: "Rules Storage" targets: "Manage Notification Data" ] ] , Process "DB Monitor to Storage" [ incoming flows: "Manage Notification Data.Events1" , "Manage Events and Rules.Events2" , "Handle Sensor Data.SensorData" , "Handle Mote Data.MoteData" outgoing flows: "Monitor 1" [ source: "DB Monitor to Storage" targets: "Primary Sensor Storage" ] , "Monitor 2" [ source: "DB Monitor to Storage" targets: "Secondary Sensor Storage" ] , DBCustomerData [ source: "DB Monitor to Storage" targets: "View Customers" ] , DBEventData [ source: "DB Monitor to Storage" targets: "View Logs" ] , DBSensorData [ source: "DB Monitor to Storage" targets: "View Sensor Data" ] ] , DataStore "Primary Sensor Storage" [ incoming flows: "DB Monitor to Storage.Monitor 1" outgoing flows: "All Data" [ source: "Primary Sensor Storage" targets: Copy ] ] , DataStore "Secondary Sensor Storage" [ incoming flows: "DB Monitor to Storage.Monitor 2" , "Copy.Data " ] , Process Copy [ incoming flows: "Primary Sensor Storage.All Data" outgoing flows: "Data " [ source: Copy targets: "Secondary Sensor Storage" ] ] , DataStore "Operator DB" [ incoming flows: "Handle Sensor Data.Notifications Operator 1" , "Handle Mote Data.Notifications Operator 2" , "View Sensor Data.Record Sensor Data" , "View Logs.Record Logs" , "View Customers.Record Customers" outgoing flows: Credentials [ source: "Operator DB" targets: "Authentication and Token" ] ] , Process "View Logs" [ incoming flows: "Operation Client.OP Request Logs" , "DB Monitor to Storage.DBEventData" outgoing flows: "Record Logs" [ source: "View Logs" targets: "Operator DB" ] , "Token 2" [ source: "View Logs" targets: "Authentication and Token" ] ] , Process "View Sensor Data" [ incoming flows: "Operation Client.OP Request Sensor Data" , "DB Monitor to Storage.DBSensorData" outgoing flows: "Record Sensor Data" [ source: "View Sensor Data" targets: "Operator DB" ] , "Token 3" [ source: "View Sensor Data" targets: "Authentication and Token" ] ] , Process "View Customers" [ incoming flows: "Operation Client.OP Request Customers" , "DB Monitor to Storage.DBCustomerData" outgoing flows: "Record Customers" [ source: "View Customers" targets: "Operator DB" ] , "Token 1" [ source: "View Customers" targets: "Authentication and Token" ] ] , Process "Authentication and Token" [ incoming flows: "View Customers.Token 1" , "View Logs.Token 2" , "View Sensor Data.Token 3" , "Operation Client.OP Credentials and Token " , "Manage Sensor Data.Token Sensor" , "Manage Rules.Token Rules" , "Customer Client.Client Credentials and Token " , "Operator DB.Credentials" outgoing flows: "OP Update Crendentials and Token" [ source: "Authentication and Token" targets: "Operation Client" ] , "Client Update Crendentials and Token" [ source: "Authentication and Token" targets: "Customer Client" ] ] , Process "Manage Rules" [ incoming flows: "Customer Client.Client Request Rules" , "Manage Events and Rules.RuleEvents1" outgoing flows: "Token Rules" [ source: "Manage Rules" targets: "Authentication and Token" ] , "Rules Info" [ source: "Manage Rules" targets: "Customer DB" ] , RuleEvents2 [ source: "Manage Rules" targets: "Manage Events and Rules" ] ] , Process "Manage Sensor Data" [ incoming flows: "Customer Client.Client Request Sensor Data" , "Manage Notification Data.RuleNotification1" outgoing flows: "Token Sensor" [ source: "Manage Sensor Data" targets: "Authentication and Token" ] , "Registration Info" [ source: "Manage Sensor Data" targets: "Customer DB" ] , RuleNotification2 [ source: "Manage Sensor Data" targets: "Manage Notification Data" ] ] , ExternalEntity "Customer Client" [ incoming flows: "Authentication and Token.Client Update Crendentials and Token" outgoing flows: "Client Credentials and Token " [ source: "Customer Client" targets: "Authentication and Token" ] , "Client Request Sensor Data" [ source: "Customer Client" targets: "Manage Sensor Data" ] , "Client Request Rules" [ source: "Customer Client" targets: "Manage Rules" ] ] , ExternalEntity "Operation Client" [ incoming flows: "Authentication and Token.OP Update Crendentials and Token" outgoing flows: "OP Request Customers" [ source: "Operation Client" targets: "View Customers" ] , "OP Request Logs" [ source: "Operation Client" targets: "View Logs" ] , "OP Request Sensor Data" [ source: "Operation Client" targets: "View Sensor Data" ] , "OP Credentials and Token " [ source: "Operation Client" targets: "Authentication and Token" ] ] , DataStore "Customer DB" [ incoming flows: "Manage Rules.Rules Info" , "Manage Sensor Data.Registration Info" , "Manage Notification Data.Notification Data" , "Manage Events and Rules.Sensor Data and Events" ] ]